<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Dumb Shit on Chris Snell</title>
    <link>https://chrissnell.com/tags/dumb-shit/</link>
    <description>Recent content in Dumb Shit on Chris Snell</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 24 Dec 2013 00:00:00 -0800</lastBuildDate>
    <atom:link href="https://chrissnell.com/tags/dumb-shit/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Stop piping curl to /bin/sh</title>
      <link>https://chrissnell.com/post/stop-piping-curl-to-sh/</link>
      <pubDate>Tue, 24 Dec 2013 00:00:00 -0800</pubDate>
      
      <guid>https://chrissnell.com/post/stop-piping-curl-to-sh/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve noticed a trend lately where software developers ask you to pipe the output of a HTTP GET to a shell to install their software. &amp;nbsp;It&amp;rsquo;s certainly convenient for the inexperienced shell user who might not be comfortable with Apt or Homebrew; never mind that we spent the late 1990s and 2000s building these tools that make it easy to install software! &amp;nbsp;The pipe-to-shell method is definitely the new hotness but this idiotic method has been around for a while. &amp;nbsp; When I was a clueless freshman at Vanderbilt in 1993, I used this technique install an IRC client on a SunOS machine in the computer lab like a total noob:&lt;/p&gt;


 telnet sci.dixie.edu 1 | sh 


&lt;p&gt;At the time, I had no idea what that command did and I happily ran it. &amp;nbsp; Did it install a backdoor into my account on the VUSE systems? &amp;nbsp;Maybe. &amp;nbsp;It would have been ridiculously easy for the Dixie admins to do that. &amp;nbsp; It was a pretty spiffy shar(1) archive that packaged up some binaries and shell scripts in a uuencoded shell package. &amp;nbsp;All I knew is I ran that command and a bunch of shit scrolled across my screen for a few minutes and when it was done, I had an IRC client and I was happy. &amp;nbsp;&lt;/p&gt;

&lt;p&gt;Sure, you could fetch the URL in your browser first and review the shell script but will most people do this? &amp;nbsp; How good are you at quickly reading a shell script? &amp;nbsp; Could you spot a well-hidden backdoor, a little bit of obfuscation tucked away in the middle of a huge regex?&lt;/p&gt;

&lt;p&gt;The pipe-to-shell technique is showing up more and more these days. &amp;nbsp;RVM uses it&amp;hellip;&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://chrissnell.com/images/post/curlsh_rvm.jpg&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;So does CopperEgg&amp;hellip;&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://chrissnell.com/images/post/curlsh_copperegg.jpg&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;pip uses a variation of this&amp;ndash;only slightly less degenerate&amp;ndash;where they ask you to download and execute some Python&amp;hellip;&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://chrissnell.com/images/post/curlsh_pip.jpg&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;To be fair, pip is also available through popular package managers but they&amp;rsquo;re still pushing this method first to new users.&lt;/p&gt;

&lt;p&gt;Why are we doing this? &amp;nbsp;It&amp;rsquo;s terrible from both security and maintainability perspective. &amp;nbsp; If a committer of one of these popular software packages gets their desktop 0wned, the users of their software might very well get rootkits installed on their servers without their knownlege.&lt;/p&gt;

&lt;p&gt;What&amp;rsquo;s so wrong with good old apt and yum? &amp;nbsp;Unlike the pipe-to-shell method, these repositories have measures in place to authenticate packages and the very nature of a package allows the sysadmin to cleanly uninstall it at a later date.&lt;/p&gt;

&lt;p&gt;Please stop piping curl(1) to sh(1) before it really &lt;a href=&#34;https://www.youtube.com/watch?v=nG-4p4Er3VY&#34;&gt;becomes a thing&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>