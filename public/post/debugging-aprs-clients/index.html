	<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.15" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title> Debugging APRS clients with a virtual null-modem cable using socat and tnc-server &middot; Chris Snell </title>

  
  <link rel="stylesheet" href="https://chrissnell.com/css/poole.css">
  <link rel="stylesheet" href="https://chrissnell.com/css/syntax.css">
  <link rel="stylesheet" href="https://chrissnell.com/css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|EB+Garamond|Inconsolata">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://chrissnell.com/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://chrissnell.com/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Chris Snell" />
</head>

	<body class="theme-base-0g">
		<div class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      <a href="https://chrissnell.com/"><h1>Chris Snell</h1></a>
      <p class="lead">
       Love of family, code, and old Land Rovers 
      </p>
      <div class="sidebar-links">
        <h3 class="links">github: <a href="https://github.com/chrissnell">chrissnell</a></h3>
        <h3 class="links">twitter: <a href="https://twitter.com/chrissnell">@chrissnell</a></h3>
     </div>
 </div>
    <p>&copy; 2016. All rights reserved. </p>
  </div>
</div>


		<div class="content container">
			<div class="post">
			 	<h1>Debugging APRS clients with a virtual null-modem cable using socat and tnc-server</h1>
			  <span class="post-date">Sun, Aug 10, 2014</span>
			      <p>While working on my <a href="http://github.com/chrissnell/GoBalloon">GoBalloon</a> project, I found myself needing to connect two AX.25/KISS APRS clients together for debugging purposes. &nbsp; If your computer has two hardware RS-232 serial ports, you can accomplish this by connecting a null modem cable between the two ports and connecting an APRS client to each port. &nbsp; I discovered an easier way to do this today and you don&rsquo;t even need a serial port at all. &nbsp; The trick is to use the <strong>socat</strong> utility. &nbsp;socat is available in most Linux distros and there are a few Windows ports out there, as well.</p>

<p>To create the virtual null modem cable, run socat like this:</p>


% socat -d -d pty,raw,echo=0 pty,raw,echo=0

2014/08/10 19:08:28 socat[25083] N PTY is /dev/pts/3
2014/08/10 19:08:28 socat[25083] N PTY is /dev/pts/4
2014/08/10 19:08:28 socat[25083] N starting data transfer loop with FDs [3,3] and [5,5]



<p>As you can see above, socat will respond with two virtual serial ports (ptys). &nbsp;In the example above, they are /dev/pts/3 and /dev/pts/4.</p>

<p>Once you have those, simply fire up your APRS clients and connect each of them to one of those virtual ports. &nbsp; Everything sent by one client will be copied to the other client and vice-versa.</p>

<p>If you are debugging an APRS client that uses KISS-over-TCP, you can use my <a href="http://github.com/chrissnell/tnc-server">tnc-server</a> utility to bridge the virtual serial port and the network. &nbsp;Simply tell tnc-server to attach to one of those virtual ports and it will open a network listener that you can connect your KISS-over-TCP client&nbsp;to:</p>


./tnc-server -port=/dev/pts/3 -listen=0.0.0.0:6700


<p>&nbsp;If you want to attach two KISS-over-TCP clients to each other, simply fire up a second instance of tnc-server that listens on a different port.</p>

<p>
 ./tnc-server -port=/dev/pts/4 -listen=0.0.0.0:6701
</p>

<p>From there, connect one APRS client to &nbsp;&lt;your_machines_IP&gt; &nbsp;port 6700 and the other client to port 6701.</p>

			</div>

			
		</div>

  </body>
</html>
